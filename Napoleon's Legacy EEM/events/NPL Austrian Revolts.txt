# Hungarian Revolution events
country_event = {
    id = 10225
    title = "EVTNAME10225" #Hungarian Revolution of $YEAR$
    desc = "EVTDESC10225"
    news = yes
    news_desc_long = "EVTDESC10225_NEWS_LONG"
    news_desc_medium = "EVTDESC10225_NEWS_MEDIUM"
    news_desc_short = "EVTDESC10225_NEWS_SHORT"
    picture = "hungarian_revolution_1848"

    fire_only_once = yes

    trigger = {
        tag = HUN
        owns = 641
		is_vassal = yes
        OR = {
            641 = { controlled_by = HUN }
            641 = { controlled_by = REB }
        }
        OR = {
            has_country_modifier = springtime_of_nations
            AND = {
                641 = { controlled_by = REB }
                has_country_flag = liberal_revolution_in_progress
            }
        }
        NOT = {
            HUN = { involved_in_crisis = yes }
            has_global_flag = hungarian_revolution_occurred
        }
    }

    mean_time_to_happen = {
        months = 1
    }

    immediate = {
        set_global_flag = hungarian_revolution_occurred
    }

    option = {
        name = "EVT10225OPTA"
        relation = { who = AUS value = -100 }
        any_owned = {
            limit = { is_core = HUN }
            remove_province_modifier = liberal_agitation
        }
        any_pop = {
            limit = { is_primary_culture = yes }
            militancy = -6
        }
		prestige = 20
        AUS = { 
			release_vassal = HUN
			diplomatic_influence = {
				who = HUN
				value = -100
			}
			country_event = 10228 
		}
        HUN = {
            capital = 641
            government = democracy
            political_reform = mandatory_service
            political_reform = non_secret_ballots
            political_reform = universal_weighted_voting
            political_reform = population_equal_weight
            political_reform = free_press
            political_reform = yes_meeting
            clr_country_flag = communist_gov
            clr_country_flag = absolute_monarchy_gov
            clr_country_flag = semi_constitutional_monarchy_gov
            set_country_flag = constitutional_monarchy_gov
            clr_country_flag = democracy_gov
            clr_country_flag = presidential_dictatorship_gov
            clr_country_flag = fascist_gov
            clr_country_flag = anarcho_liberal_gov
        }
    }
}

country_event = {
    id = 10228
    title = "EVTNAME10228" #Hungarian Revolution of $YEAR$
    desc = "EVTDESC10228"
    picture = "hungarian_revolution_1848"

	is_triggered_only = yes
	
	option = {
        name = "EVT10228OPTA"
		war = {
			target = HUN
			attacker_goal = {
				casus_belli = civil_war
			}

			defender_goal = {
				casus_belli = status_quo
			}
		}
		diplomatic_influence = {
			who = HUN
			value = -100
		}
		prestige = 10
		ai_chance = {
            factor = 95
		}
	}
	
    option = {
        name = "EVT10228OPTB"
        set_country_flag = austria_let_hungary_go
        relation = { who = HUN value = -100 }
        prestige = -25
        casus_belli = {
            target = HUN
            type = acquire_state
            months = 60
        }
        casus_belli = {
            target = HUN
            type = cut_down_to_size
            months = 60
        }
        any_pop = {
            limit = { 
				is_primary_culture = no
				is_accepted_culture = no
            }
            militancy = 8
        }
        any_owned = {
            limit = {
                OR = {
                    is_core = POL
                    is_core = ROM
                    is_core = ITA
                }
            }
            add_province_modifier = {
                name = nationalist_agitation
                duration = 1095
            }
        }
        ai_chance = {
            factor = 5
            modifier = {
                factor = 2
                any_greater_power = { war_with = THIS }
            }
            modifier = {
                factor = 2
                national_provinces_occupied = 0.25
            }
            modifier = {
                factor = 0
                war = no
                NOT = { revolt_percentage = 0.25 }
            }
        }
    }
}

country_event = {
    id = 10226
    title = "EVTNAME10226" #Freedom At Last!
    desc = "EVTDESC10226"
    picture = "unite"

    fire_only_once = yes
    trigger = {
        tag = HUN
        war = no
        AUS = {
            exists = yes
            truce_with = THIS
            NOT = { has_country_flag = austria_let_hungary_go }
        }
        has_global_flag = hungarian_revolution_occurred
    }

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = "EVT10226OPTA"
        AUS = { country_event = 10227 }
        any_pop = {
            limit = { is_primary_culture = yes }
            militancy = -8
            consciousness = -3
        }
        any_pop = {
            limit = {
                is_primary_culture = no
                NOT = { is_culture_group = germanic }
            }
            militancy = 4
            consciousness = 3
        }
        any_owned = {
            limit = {
                OR = {
                    is_core = SLV
                    is_core = ROM
                    is_core = SER
                    is_core = CRO
                }
            }
            remove_province_modifier = nationalist_agitation
            add_province_modifier = {
                name = nationalist_agitation
                duration = 1095
            }
        }
    }
}

country_event = {
    id = 10227
    title = "EVTNAME10227" #The Hungarian Question
    desc = "EVTDESC10227"
    picture = "administration"

    is_triggered_only = yes

    option = {
        name = "EVT10227OPTA"
        diplomatic_influence = {
            who = HUN
            value = -100
        }
        any_pop = {
            limit = { is_primary_culture = yes }
            militancy = -6
        }
        any_pop = {
            limit = {
                has_pop_culture = romanian
                location = { is_core = ROM }
            }
            militancy = 6
        }
        any_pop = {
            limit = {
                has_pop_culture = polish
                location = { is_core = POL }
            }
            militancy = 6
        }
        ai_chance = {
            factor = 75
        }
    }

    option = {
        name = "EVT10227OPTB"
        set_country_flag = austria_let_hungary_go
        prestige = -25
        badboy = -2
        relation = {
            who = HUN
            value = 100
        }
        diplomatic_influence = {
            who = HUN
            value = 100
        }
        any_pop = {
            limit = { is_primary_culture = yes }
            scaled_militancy = {
                issue = jingoism
                factor = 6
            }
        }
        any_pop = {
            limit = {
                has_pop_culture = romanian
                location = { is_core = ROM }
            }
            militancy = 8
        }
        any_pop = {
            limit = {
                has_pop_culture = polish
                location = { is_core = POL }
            }
            militancy = 8
        }
        any_owned = {
            limit = {
                OR = {
                    is_core = POL
                    is_core = ROM
                }
            }
            add_province_modifier = {
                name = nationalist_agitation
                duration = 1095
            }
        }
        ai_chance = {
            factor = 25
        }
    }
}